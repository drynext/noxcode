<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOXCODE SYSTEM | OS EDITION</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;300;400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="scanlines"></div>
    <div class="arcaea-bg"></div>
    <div id="system-overlay"></div>
    <canvas id="matrix-rain"></canvas>
    
    <div id="toast-container"></div>
    
    <div id="ctx-menu" class="ctx-menu">
        <div class="ctx-item" onclick="navigateTo('dashboard-view')"><i class="fas fa-home"></i> Dashboard</div>
        <div class="ctx-item" onclick="navigateTo('compiler-view')"><i class="fas fa-code"></i> Open IDE</div>
        <div class="ctx-item" onclick="toggleScratchpad()"><i class="fas fa-sticky-note"></i> Toggle Notes</div>
        <div class="ctx-item" onclick="toggleCalendar()"><i class="far fa-calendar-alt"></i> Calendar</div>
        <div class="ctx-hr"></div>
        <div class="ctx-item text-danger" onclick="location.reload()"><i class="fas fa-power-off"></i> Reboot System</div>
    </div>

    <div id="cmd-overlay" class="cmd-overlay">
        <div class="cmd-box">
            <div class="cmd-header">
                <i class="fas fa-terminal"></i> RUN_COMMAND
            </div>
            <input type="text" id="cmd-input" placeholder="Type a command (e.g., 'Dark', 'Task', 'Music')...">
            <div class="cmd-list" id="cmd-list">
                </div>
            <div class="cmd-footer">
                <span><kbd>↑</kbd> <kbd>↓</kbd> to navigate</span>
                <span><kbd>↵</kbd> to execute</span>
                <span><kbd>Esc</kbd> to close</span>
            </div>
        </div>
    </div>

    <div id="scratchpad" class="floating-window">
        <div class="win-header" id="scratchpad-header">
            <span><i class="fas fa-pen-square"></i> QUICK_NOTES.txt</span>
            <button class="win-close" onclick="toggleScratchpad()">×</button>
        </div>
        <textarea class="win-content" placeholder="Draft algorithms or ideas here..."></textarea>
    </div>

    <div id="calendar-modal" class="modal-overlay">
        <div class="calendar-box">
            <div class="cal-header">
                <button id="prev-month"><i class="fas fa-chevron-left"></i></button>
                <span id="cal-month-year">...</span>
                <button id="next-month"><i class="fas fa-chevron-right"></i></button>
            </div>
            <div class="cal-days-header">
                <span>Su</span><span>Mo</span><span>Tu</span><span>We</span><span>Th</span><span>Fr</span><span>Sa</span>
            </div>
            <div id="cal-days-grid" class="cal-grid"></div>
            <button class="close-modal-btn" onclick="toggleCalendar()">CLOSE MATRIX</button>
        </div>
    </div>

    <div class="main-interface">
        <aside class="sidebar-panel">
            <div class="sidebar-clock-wrapper">
                <div class="sidebar-label">SERVER TIME</div>
                <div id="system-clock" class="sidebar-clock-display">00:00:00</div>
                <div class="date-row">
                    <span id="system-date">YYYY-MM-DD</span>
                    <button id="open-cal-btn" class="hover-sound" onclick="toggleCalendar()">
                        <i class="far fa-calendar-alt"></i>
                    </button>
                </div>
                <div class="weather-widget">
                    <i class="fas fa-cloud-moon-rain"></i> Da Nang: 24°C
                </div>
            </div>

            <div class="brand-section">
                <a href="index.html" class="logo-link hover-sound">
                    <div class="logo-container">
                        <h1 class="logo-text force-red">NOXCODE</h1>
                        <div class="logo-glitch force-red">NOXCODE</div>
                    </div>
                </a>
                <div class="system-status">
                    <span class="status-indicator"></span>
                    <span class="status-text">SYSTEM ONLINE</span>
                </div>
            </div>

            <nav class="navigation-menu">
                <button class="nav-item active hover-sound" data-target="dashboard-view">
                    <span class="nav-icon">▣</span> <span class="nav-label">DASHBOARD</span>
                </button>
                <button class="nav-item hover-sound" data-target="tracker-view">
                    <span class="nav-icon">⚡</span> <span class="nav-label">TRACKER</span>
                </button>
                <button class="nav-item hover-sound" data-target="focus-view">
                    <span class="nav-icon">◎</span> <span class="nav-label">FOCUS MODE</span>
                </button>
                <button class="nav-item hover-sound" data-target="sudoku-view">
                    <span class="nav-icon">▦</span> <span class="nav-label">SUDOKU PRO</span>
                </button>
                <button class="nav-item hover-sound" data-target="decide-view">
                    <span class="nav-icon">◈</span> <span class="nav-label">DECIDER</span>
                </button>
                <button class="nav-item hover-sound" data-target="compiler-view">
                    <span class="nav-icon">⌨</span> <span class="nav-label">IDE / COMPILER</span>
                </button>
            </nav>

            <div class="music-widget hover-sound" onclick="toggleMusic()">
                <div class="music-info">
                    <span class="music-status">LOFI STATION</span>
                    <span class="music-track">Coding Chill Mix</span>
                </div>
                <div class="visualizer">
                    <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
                </div>
            </div>

            <div class="sidebar-footer">
                <div class="stats-box">
                    <div class="stat-line"><span class="stat-label">Tasks</span><span class="stat-value" id="sidebar-done">0</span></div>
                    <div class="stat-line"><span class="stat-label">Focus</span><span class="stat-value" id="sidebar-focus">0m</span></div>
                </div>
                <div class="user-id">OP: DAI_DANG_CS</div>
                <button id="toggle-sound" class="control-btn" style="width:100%; margin-top:10px;">[ SOUND: ON ]</button>
            </div>
        </aside>

        <main class="content-area">
            <header class="top-bar">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="breadcrumbs">SYSTEM / <span id="current-module">DASHBOARD</span></div>
                    <button id="theme-toggle" class="theme-btn hover-sound" title="Light/Dark Mode"><i class="fas fa-sun"></i></button>
                    <button id="arcaea-toggle" class="theme-btn hover-sound arcaea-btn" title="Arcaea Dimension"><i class="fas fa-gem"></i></button>
                    <button class="theme-btn hover-sound" onclick="toggleScratchpad()" title="Quick Notes"><i class="fas fa-pen"></i></button>
                </div>
                
                <a href="profile.html" class="profile-widget hover-sound">
                    <div class="profile-info">
                        <span class="p-name">Đặng Đức Đại</span>
                        <span class="p-role">LV.99 MANAGER</span>
                    </div>
                    <div class="avatar-circle">
                        <img src="https://i.pinimg.com/736x/8b/16/7a/8b167af653c2399dd93b952a48740620.jpg" alt="Avatar">
                    </div>
                </a>
            </header>

            <div id="dashboard-view" class="view-container active">
                <div class="hero-section">
                    <h2 class="welcome-text">WELCOME BACK, OPERATOR.</h2>
                    <div class="console-output">
                        <span class="prompt">></span>
                        <span id="typing-effect">Initializing...</span>
                        <span class="cursor-blink">_</span>
                    </div>
                </div>
                <div class="modules-grid">
                    <div class="module-card hover-sound" onclick="navigateTo('tracker-view')"><div class="card-glow"></div><div class="card-content"><div class="card-icon">⚡</div><h3 class="card-title">Practice Tracker</h3><p class="card-desc">Algorithms & tasks.</p><div class="card-stat">Active: <span id="card-todo-count">0</span></div></div></div>
                    <div class="module-card hover-sound" onclick="navigateTo('focus-view')"><div class="card-glow"></div><div class="card-content"><div class="card-icon">◎</div><h3 class="card-title">Deep Focus</h3><p class="card-desc">Pomodoro protocol.</p><div class="card-stat">Status: READY</div></div></div>
                    <div class="module-card hover-sound" onclick="navigateTo('sudoku-view')"><div class="card-glow"></div><div class="card-content"><div class="card-icon">▦</div><h3 class="card-title">Sudoku Engine</h3><p class="card-desc">Logic matrix (9x9).</p><div class="card-stat">Level: ADAPTIVE</div></div></div>
                    <div class="module-card hover-sound" onclick="navigateTo('compiler-view')"><div class="card-glow"></div><div class="card-content"><div class="card-icon">⌨</div><h3 class="card-title">C++ Compiler</h3><p class="card-desc">Dev Environment.</p><div class="card-stat">v17.02</div></div></div>
                </div>
            </div>

            <div id="tracker-view" class="view-container"><div class="section-header"><h2 class="section-title">PRACTICE TRACKER</h2><div class="section-controls"><button class="control-btn danger hover-sound" onclick="clearAllTasks()">CLEAR ALL</button></div></div><div class="tracker-interface"><div class="input-wrapper"><input type="text" id="new-task-input" placeholder="Enter task..."><button id="add-task-btn" class="action-btn hover-sound">ADD</button></div><div class="task-lists-container"><div class="list-column"><h3 class="list-head">PENDING</h3><ul id="todo-list" class="styled-list"></ul></div><div class="list-column"><h3 class="list-head">DONE</h3><ul id="done-list" class="styled-list"></ul></div></div></div></div>
            
            <div id="focus-view" class="view-container"><div class="focus-layout"><div class="timer-display-area"><svg class="progress-ring" width="360" height="360"><circle class="progress-ring__circle-bg" stroke="#1a1a1a" stroke-width="8" fill="transparent" r="170" cx="180" cy="180"/><circle class="progress-ring__circle" stroke="#00ff41" stroke-width="8" fill="transparent" r="170" cx="180" cy="180"/></svg><div class="time-text" id="timer-val">25:00</div><div class="time-label" id="timer-label">FOCUS SESSION</div></div><div class="timer-controls"><div class="mode-switcher"><button class="mode-btn active hover-sound" data-time="25">POMODORO</button><button class="mode-btn hover-sound" data-time="5">SHORT</button><button class="mode-btn hover-sound" data-time="15">LONG</button></div><div class="action-buttons"><button id="timer-start" class="large-btn hover-sound">START</button><button id="timer-reset" class="large-btn secondary hover-sound">RESET</button></div></div></div></div>
            
            <div id="sudoku-view" class="view-container"><div class="section-header"><h2 class="section-title">SUDOKU</h2><div class="difficulty-toggles"><button class="diff-chip active hover-sound" data-diff="easy">EASY</button><button class="diff-chip hover-sound" data-diff="medium">MEDIUM</button><button class="diff-chip hover-sound" data-diff="hard">HARD</button></div></div><div class="sudoku-wrapper"><div id="sudoku-grid" class="game-grid"></div><div class="game-controls"><button class="game-btn hover-sound" onclick="generateNewGame()">NEW GAME</button><button class="game-btn highlight hover-sound" onclick="verifySolution()">CHECK</button></div></div></div>
            
            <div id="decide-view" class="view-container"><div class="decide-layout"><h2 class="section-title">DECISION MATRIX</h2><div class="input-area"><textarea id="decision-options" placeholder="Options (one per line)..."></textarea></div><button id="spin-btn" class="spin-button hover-sound">RANDOMIZE</button><div class="result-area"><div class="result-label">RESULT:</div><div id="decision-result" class="result-value">---</div></div></div></div>

             <div id="compiler-view" class="view-container">
                <div class="section-header">
                    <h2 class="section-title">C++ TERMINAL</h2>
                    <div class="section-controls">
                         <select id="cpp-std" class="std-selector hover-sound">
                            <option value="c++11">GNU G++11</option>
                            <option value="c++14">GNU G++14</option>
                            <option value="c++17" selected>GNU G++17</option>
                            <option value="c++20">GNU G++20</option>
                        </select>
                        <button class="control-btn hover-sound" onclick="runFakeCode()">▶ EXECUTE</button>
                    </div>
                </div>
                <div class="ide-layout" style="display:flex; flex-direction:column; gap:20px; height: calc(100vh - 200px);">
                    <div class="editor-box" style="flex: 2; border: 1px solid var(--border); font-size: 14px;"><textarea id="cpp-code">#include <iostream>
using namespace std;

int main() {
    // NOXCODE SYSTEM OS
    cout << "Hello Operator Dai!" << endl;
    return 0;
}</textarea></div>
                    <div class="terminal-box" style="flex: 1; background: #000; border: 1px solid var(--border); padding: 15px; font-family: monospace; overflow-y: auto;">
                        <div style="color: #666; border-bottom: 1px solid #333; margin-bottom: 10px; padding-bottom: 5px;">OUTPUT_CONSOLE //</div>
                        <div id="terminal-output" style="color: var(--text-main); white-space: pre-wrap;">Waiting for source code...</div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
